language: java
jdk:
- oraclejdk8
install: true
script:
  - |
    if [[ $TRAVIS_REPO_SLUG == "pinterest/ktlint" && $TRAVIS_BRANCH == "master" && $TRAVIS_PULL_REQUEST == "false" ]]; then
      ./gradlew build && ./mvnw -Ddeploy=maven-central -DskipStaging=true -Dgpg.skip=true && ./mvnw -Ddeploy=github -Dgpg.skip=true -Dgithub.draft=true -Dgithub.description="https://github.com/pinterest/ktlint#access-to-the-latest-master-snapshot"
    else
      ./mvnw clean verify
    fi
env:
  global:
  - secure: nyBIAr6PutBUNVhj7S0oPcrEKEH1v5/iU58IPxS5ntO40OSGcOQxDa10ZNLpTNCxu/KU7oam2P4YxoTJD2AcQtAHvFsj2SOOzCJgpkltIWbKu5luPDNxfSQKGDROcsmJPkhiWzOQO30SCf4Q1qrbAhgGckEMj14acmhxiIHTS3z0M8E1BwfIpBVwANYgEFwzJJXvC3S79JCQW0jG/BUzs/54XaxHQlaBRowj89mlCIaDTeqf/DYx8p0AWBucRQaoUKWM+BWQQvo3Pq5dHoAdiZ1EFjtOSrcGoaZ4fHmGQSolUK6apvAKhwdlq7xf/v2rgks47llP1MC5zPER+la692DHAcpS9gZQR7Mp/++PWjsvcm7rAdIEnqmiSl8qE75HadT1AlADuP9ttLhtEKoMpb5dmQZTKeChUp2ThskTh6DF1QKg2L76A/slBn0YY9G0pLps1k35a49fONoxLETzDHYvpg57lS6PGho/75sVRc2RNvhZ1m29ze8DcYqa/ahFw32Wd4anZIr01W9MTWcGSvGgFKsG90OzjXTQBHOtnO6x0awHZVcbJomV4PJ+1vVNhq0LPEcDuyWfZvDI5zmAfhyfhOD+qUrfyRlzhvrjlLIijhAiKhWgZyVJ5gN8gVY/ZooJw6/Q0dwX/lS3NOW9Dhgswglb9RehQRPy/pYRJgo=
  - secure: lktf+HZKm+TaAgiY/oSUI8dFG+snA9KnjY/Pqmybm6AZkWKj/byhu/Yd6zANQXPja5CdGIV4x351a5pUYVhweh0+orOkGd5k0DFuvRnlUS4OGiEqi1dvS3V33rakHmgPEP2+Zdqhcxb7HcpujEzGAmGUWhGGZpkx/l4cvBTNFS+g8/v4GQ7o7yr/+woaArZLIftsM+RXbZ/Q76M1w3Gn3KOSly7VYLUMSYeSQ+K6ftg++PxhFPq8UV2Sb9Sp8MpNx5UlHCQgUGvlDmBQXvPgLwKT3hqOkR820adSn5ac3rKF1zcwazlbcVrP4hq/IwMhjcNuLehC4a5/PO6Mx4ia7OrGX5gzIHWcP0oZbGwXiLrrQ/7zVeOrigl7H29SlaptzQOmPoZ2HyifWQxBJwUdDmJdcHWIOLJu8/Zrme/gIW/vG3QFtFqavB49Np2PmBPLXZQd34Il7kSylCFJiHJ7R5YMpQS9RFhELt3CaA1W72EvhfYsA3AssCcnzVxcFVmmUbh7zJVkQygAtc5tX9aM3J+Ic/9QuQi6NpFBXbbhrQ6H/YZe9ZpI7l+Uipiu0qjeNSYoxKKiAjP8cvR6cP6Islr64N7Vj2dozsDAkSzDJ4mrKPlEvHWlJHBziSJBc3fWhDIfImSHKEYA3WdxgeT6ImyWKuhQJGBsDvGSLKMDe+E=
  - secure: vM2zTP++wqp9PUU+/JhXClmzJl7oKFKibXtcV5iAFefgYLSTOBbXIYle+j7crHaMOW/GKYte3PEd8N7zLYBnUQVKVFXc3gF+XywUzHU65Gso2goQNKeG5Zt3PqlPPHUcrahr3B2oj9sIb+rbO8cI/gEm/lDWlxaI9qxY907bDwSjyyUxjgXSg3UuPmqF+CQUWpq5CNzfpzg2ipEqCAA5dbTqaSQXRsJFonG/xcqBb+yVEwG6vAUDeWPWcy9SgTUMgup5YO92z7B71EDpBeVLo3PlUrERvw6K91cDP9sxtmUKSi1henLEZ4YEYuO/OiXsnxG3gTX3mJOg/ouii0wxgBNj1RKlzKM6+lnPeJC8dXkVKFuhwOJGHx9fG0wn0UucgSkeZvx2oe6HSkYF6p6IK4mvfg0bU8QpLaLL7PkB0efdrH20McjEmYUaSfBDdihqSH/iML0dcg2+dE9Qr7ZEGBQVNG5Jd1obcKsw66bmpAVEY3uD66Ns73kPcbkv9Dx92yL7QfxEAXydd56j7WMgt77qvh+tbwdL+HFueJCxScifmw4sTpRuFRXeU6R1kDneOmaBLjerbumxOnsnuuI2K8xjtQqi8VxzY1J/4bfVSziuFWLvENXCAyisOZ7ewmd0AxETMihdM1taRLZ0clL+Sb4KLu3xjFI5ZM4xZalJkqU=
